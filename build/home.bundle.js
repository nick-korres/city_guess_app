!function(e){function t(t){for(var r,a,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={2:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([21,0]),n()}([,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return k}));var r=n(4),i=n.n(r),o=n(10),a=n.n(o),c=n(11),s=n.n(c),l=n(12),u=n.n(l),d=n(2),p=n.n(d),f=n(13),g=n.n(f),h=n(5),m=n.n(h),b=n(14),y=n.n(b),v=n(1),x=n.n(v),w=n(0),O=n.n(w);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=O.a.createContext(),E=function(e){y()(r,e);var t,n=(t=r,function(){var e,n=m()(t);if(S()){var r=m()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g()(this,e)});function r(){var e;return s()(this,r),e=n.call(this),x()(p()(e),"loadCities",a()(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.state.api_url+"images/").then((function(e){return e.json()}));case 2:n=t.sent,e.setState({currCities:n,cities:n});case 4:case"end":return t.stop()}}),t)})))),x()(p()(e),"showThem",(function(){console.log(e.state.currCities)})),x()(p()(e),"changeCurrCities",(function(t,n){t.length>=n?e.setState({currCities:t}):e.setState({currCities:e.state.cities})})),e.state={currCities:[],cities:[],api_url:"https://city-guess-api.herokuapp.com/"},e}return u()(r,[{key:"render",value:function(){return O.a.createElement(k.Provider,{value:j({},this.state,{changeCurrCities:this.changeCurrCities,getCities:this.loadCities,showThem:this.showThem})},this.props.children)}}]),r}(w.Component);k.Consumer},,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r);n(19);t.default=function(e){var t=e.name,n=e.givenOption,r=e.change,o=e.disabled;return i.a.createElement("section",{className:"option"},i.a.createElement("label",{className:o?"optionLabelGreyed":"optionLabel"},i.a.createElement("input",{type:"radio",name:t,value:t,checked:n===t,onChange:r,disabled:o}),t))}},,,function(e,t,n){var r=n(6),i=n(20);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});e.exports=a},function(e,t,n){(t=n(7)(!1)).push([e.i,'.option {\n\n}\n\n.optionLabel{\n    background-image: -moz-linear-gradient(rgb(111, 197, 255),rgb(207, 232, 243),rgb(111, 197, 255));\n    padding-top: 5px;\n    padding-right: 30px;\n    border-radius: 30px;\n    border-style: solid;\n    border-color: rgb(32, 51, 218);\n}\n\n.optionLabelGreyed{\n    background-image: -moz-linear-gradient(rgb(135, 140, 143),rgb(169, 174, 177),rgb(135, 140, 143));\n    padding-top: 5px;\n    padding-right: 30px;\n    border-radius: 30px;\n    border-style: solid;\n    border-color: rgb(32, 51, 218);\n}\n\ninput[type="radio"]{\n    margin: 0 35px 0 0;\n  }\n@media screen and (max-width: 1200px) {\n    input[type="radio"]{\n        margin: 0 0 0 0;\n    }\n    .optionLabel {\n        margin:0;\n        padding:0;\n    }\n}',""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(10),a=n.n(o),c=n(25),s=n.n(c),l=n(11),u=n.n(l),d=n(12),p=n.n(d),f=n(2),g=n.n(f),h=n(13),m=n.n(h),b=n(5),y=n.n(b),v=n(14),x=n.n(v),w=n(1),O=n.n(w),C=n(0),j=n.n(C),S=(n(27),n(9)),k=n(16),E=(n(29),function(e){return e.correct?j.a.createElement("div",{className:"correct"},"correct"):j.a.createElement("div",{className:"false"},"false")}),P=n.p+"20e0796b09919ac322391ed5ceef4abb.png";function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){x()(o,e);var t,n,r=(t=o,function(){var e,n=y()(t);if(D()){var r=y()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return m()(this,e)});function o(e){var t;return u()(this,o),t=r.call(this,e),O()(g()(t),"handleChange",(function(e){t.setState({selectedOption:e.target.value})})),O()(g()(t),"handleFormSubmit",(function(e){e.preventDefault(),t.state.selectedOption===t.state.correctOption.name?t.setState({userSubmited:!0,correct:!0}):t.setState({userSubmited:!0,correct:!1})})),t.state={correctOption:[],selectedOption:"",userSubmited:!1,correct:!1,cityDiplayed:[],cityChoices:[],finishedLoading:!1},t}return p()(o,[{key:"loadCities",value:function(e){console.log("mphka");for(var t=[],n=s()(e),r=1;r<=4;r++){var i=Math.floor(Math.random()*n.length);t.push(n[i]),n.splice(i,1)}(0,this.context.changeCurrCities)(n,4);var o=Math.floor(Math.random()*t.length);console.log("inside loadcities"),console.log(t[o]),this.setState({userSubmited:!1,correctOption:t[o],cityDiplayed:t[o],cityChoices:t})}},{key:"componentDidMount",value:(n=a()(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({cityDiplayed:{id:0,name:"placeholder",url:P}}),console.log("kati "+this.context),t=this.context.getCities,e.next=5,t();case 5:n=this.context.currCities,this.setState({finishedLoading:!0}),console.log("inside Home.js"),console.log(n),this.loadCities(n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.context,n=t.currCities,r=t.api_url;return j.a.createElement("div",{className:"home-body"},j.a.createElement("img",{src:r+this.state.cityDiplayed.url,alt:this.state.cityDiplayed.name,className:"image"}),console.log("in image"),console.log(this.state.cityDiplayed.url+"  "+r),j.a.createElement("form",{className:"form",onSubmit:this.handleFormSubmit},j.a.createElement("section",null,this.state.cityChoices.map((function(t){return j.a.createElement(k.default,{name:t.name,givenOption:e.state.selectedOption,change:e.handleChange,key:t.id,disabled:e.state.userSubmited})}))),j.a.createElement("input",{type:"submit",papia:"papia",value:"submit"}),j.a.createElement("button",{type:"button",disabled:!this.state.userSubmited,className:this.state.userSubmited?"normal":"greyed",onClick:function(){return e.loadCities(n)}},"Next")),j.a.createElement("div",{className:"result"},this.state.userSubmited?j.a.createElement(E,{correct:this.state.correct}):j.a.createElement("div",null,"Choose a City")),j.a.createElement("div",{className:"test"}," papia "))}}]),o}(j.a.Component);_.contextType=S.a;t.default=_},,,,,,function(e,t,n){var r=n(6),i=n(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});e.exports=a},function(e,t,n){(t=n(7)(!1)).push([e.i,".home-body {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n    grid-template-rows: repeat(3, minmax(100px, 1fr));\n    justify-content: center;\n    align-content: center;\n    background-color: rgb(206, 209, 208); \n    /* border: rgb(236, 8, 160);\n    border-style: solid; */\n}\n\n@media screen and (max-width: 1200px) {\n    .home-body{\n        display: flex;\n        flex-direction: column;\n    }\n  }\n\n.result {\n    display: flex;\n    justify-content: center;\n    /* border: rgb(42, 216, 36);\n    border-style: solid; */\n    grid-column: 2;\n    grid-row: 2;\n    align-items: center;\n}\n\n.image {\n    background-color: darkslateblue;\n    border: rgb(84, 85, 87);\n    border-style: groove;\n    border-width: 15px;\n    height: 600px ;\n    width:100%;\n    grid-row: 1 / 3;\n    grid-column: 1;\n}\n\n\n.form {\n    display:flex;\n    flex-direction: row;\n    \n}\n@media screen and (max-width: 500px) {\n    .form{\n           flex-direction: column;\n       }\n     }\n.form > input {\n    align-self: center;\n    justify-self: center;\n    margin-left: 10vw;\n    margin-right: 10vw;\n    padding: 5px;\n    \n}\n\n.form > section {\n    display: flex;\n    flex-direction: column;\n    margin-left: 2vw ;\n    justify-content: space-around;\n    min-width: 200px;\n    max-width: 500px;\n}\n\n@media screen and (max-width: 500px) {\n    .form > section {\n        flex-direction: row;\n    }\n}\n\n.normal{\n    background-color: chartreuse;\n    align-self: center;\n    justify-self: center;\n    margin-left: 1vw;\n    margin-right: 1vw;\n    padding: 20px;\n\n}\n\n.greyed{\n    background-color: rgb(99, 99, 99);\n    color: floralwhite;\n    align-self: center;\n    justify-self: center;\n    margin-left: 1vw;\n    margin-right: 1vw;\n    padding: 20px;\n\n}\n\n\n\n",""]),e.exports=t},function(e,t,n){var r=n(6),i=n(30);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});e.exports=a},function(e,t,n){(t=n(7)(!1)).push([e.i,".correct {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgb(20, 220, 70);\n    height: 50px;\n    width: 80px;\n\n    /* border: rgb(42, 216, 36);\n    border-style: solid; */\n}\n\n.false {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgb(220, 20, 20);\n    height: 50px;\n    width: 80px;\n\n    /* border: rgb(42, 216, 36);\n    border-style: solid; */\n}\n\n",""]),e.exports=t}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL09wdGlvbnMuY3NzPzQ5YzQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9PcHRpb25zLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9PblN1Ym1pdE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9sb2FkaW5nLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Ib21lLmpzIiwid2VicGFjazovLy8uL3NyYy9jc3MvSG9tZS5jc3M/MGY5MyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL0hvbWUuY3NzIiwid2VicGFjazovLy8uL3NyYy9jc3MvT25TdWJtaXRNZXNzYWdlLmNzcz9lMGZkIiwid2VicGFjazovLy8uL3NyYy9jc3MvT25TdWJtaXRNZXNzYWdlLmNzcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjIiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIkNpdHlDb250ZXh0IiwiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwiQ2l0eVByb3ZpZGVyIiwiYSIsImZldGNoIiwic3RhdGUiLCJhcGlfdXJsIiwidGhlbiIsInJlc3AiLCJqc29uIiwicmVzcG9uc2UiLCJzZXRTdGF0ZSIsImN1cnJDaXRpZXMiLCJjaXRpZXMiLCJjb25zb2xlIiwibG9nIiwibmV3Q2l0aWVzIiwibnVtQ2hvaWNlcyIsIlByb3ZpZGVyIiwidGhpcyIsImNoYW5nZUN1cnJDaXRpZXMiLCJnZXRDaXRpZXMiLCJsb2FkQ2l0aWVzIiwic2hvd1RoZW0iLCJwcm9wcyIsImNoaWxkcmVuIiwiQ29tcG9uZW50IiwiQ29uc3VtZXIiLCJPcHRpb25zIiwiZ2l2ZW5PcHRpb24iLCJjaGFuZ2UiLCJkaXNhYmxlZCIsImNsYXNzTmFtZSIsInR5cGUiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsIk9uU3VibWl0TWVzc2FnZSIsImNvcnJlY3QiLCJIb21lIiwiY2hhbmdlRXZlbnQiLCJzZWxlY3RlZE9wdGlvbiIsInRhcmdldCIsImZvcm1TdWJtaXRFdmVudCIsInByZXZlbnREZWZhdWx0IiwiY29ycmVjdE9wdGlvbiIsInVzZXJTdWJtaXRlZCIsImNpdHlEaXBsYXllZCIsImNpdHlDaG9pY2VzIiwiZmluaXNoZWRMb2FkaW5nIiwicmFuZEluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29udGV4dCIsImlkIiwidXJsIiwicGxhY2Vob2xkZXIiLCJzcmMiLCJhbHQiLCJvblN1Ym1pdCIsImhhbmRsZUZvcm1TdWJtaXQiLCJtYXAiLCJjaXR5IiwiaGFuZGxlQ2hhbmdlIiwicGFwaWEiLCJvbkNsaWNrIiwiY29udGV4dFR5cGUiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBYUgsS0FDcERjLEVBQVFkLEdBQVlHLEVBQVlILElBS2xDLElBRkdlLEdBQXFCQSxFQUFvQmhCLEdBRXRDTyxFQUFTQyxRQUNkRCxFQUFTVSxPQUFUVixHQU9ELE9BSEFXLEVBQWdCSixLQUFLSyxNQUFNRCxFQUFpQmIsR0FBa0IsSUFHdkRlLElBRVIsU0FBU0EsSUFFUixJQURBLElBQUlDLEVBQ0lmLEVBQUksRUFBR0EsRUFBSVksRUFBZ0JWLE9BQVFGLElBQUssQ0FHL0MsSUFGQSxJQUFJZ0IsRUFBaUJKLEVBQWdCWixHQUNqQ2lCLEdBQVksRUFDUkMsRUFBSSxFQUFHQSxFQUFJRixFQUFlZCxPQUFRZ0IsSUFBSyxDQUM5QyxJQUFJQyxFQUFRSCxFQUFlRSxHQUNHLElBQTNCWCxFQUFnQlksS0FBY0YsR0FBWSxHQUUzQ0EsSUFDRkwsRUFBZ0JRLE9BQU9wQixJQUFLLEdBQzVCZSxFQUFTTSxFQUFvQkEsRUFBb0JDLEVB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QUFDLEVBQUQsQ0FBaUJSLFFBQVN6QixLQUFLZCxNQUFNdUMsVUFDckMsK0NBR1YseUJBQUtaLFVBQVUsUUFBZixnQixHQXJIR2hDLElBQU0wQixXQTBIekJtQixFQUFLNEIsWUFBYzFFLElBRUo4QyxhLHFCQ3BJZixJQUFJVCxFQUFNLEVBQVEsR0FDRkMsRUFBVSxFQUFRLElBSUMsaUJBRnZCQSxFQUFVQSxFQUFRbkQsV0FBYW1ELEVBQVFDLFFBQVVELEtBRy9DQSxFQUFVLENBQUMsQ0FBQ3BFLEVBQU8xQixFQUFJOEYsRUFBUyxNQUc5QyxJQUFJRSxFQUFVLENBRWQsT0FBaUIsT0FDakIsV0FBb0IsR0FJaEJDLEdBRlNKLEVBQUlDLEVBQVNFLEdBRVhGLEVBQVFJLE9BQVNKLEVBQVFJLE9BQVMsSUFJakR4RSxFQUFPRCxRQUFVd0UsRyxpQkNsQmpCeEUsRUFEa0MsRUFBUSxFQUNoQzBFLEVBQTRCLElBRTlCM0YsS0FBSyxDQUFDa0IsRUFBTzFCLEVBQUksZ3pEQUFpekQsS0FFMTBEMEIsRUFBT0QsUUFBVUEsRyxnQkNOakIsSUFBSW9FLEVBQU0sRUFBUSxHQUNGQyxFQUFVLEVBQVEsSUFJQyxpQkFGdkJBLEVBQVVBLEVBQVFuRCxXQUFhbUQsRUFBUUMsUUFBVUQsS0FHL0NBLEVBQVUsQ0FBQyxDQUFDcEUsRUFBTzFCLEVBQUk4RixFQUFTLE1BRzlDLElBQUlFLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUloQkMsR0FGU0osRUFBSUMsRUFBU0UsR0FFWEYsRUFBUUksT0FBU0osRUFBUUksT0FBUyxJQUlqRHhFLEVBQU9ELFFBQVV3RSxHLGlCQ2xCakJ4RSxFQURrQyxFQUFRLEVBQ2hDMEUsRUFBNEIsSUFFOUIzRixLQUFLLENBQUNrQixFQUFPMUIsRUFBSSx5ZEFBMGQsS0FFbmYwQixFQUFPRCxRQUFVQSIsImZpbGUiOiJob21lLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MjogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMjEsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBDaXR5Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoKTtcblxuY2xhc3MgQ2l0eVByb3ZpZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpICBcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgXG4gICAgICAgICAgICBjdXJyQ2l0aWVzOltdLFxuICAgICAgICAgICAgY2l0aWVzOltdLFxuICAgICAgICAgICAgYXBpX3VybDogJ2h0dHBzOi8vY2l0eS1ndWVzcy1hcGkuaGVyb2t1YXBwLmNvbS8nXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo1MDAwLycpLnRoZW4oIHJlcyA9PiByZXMuanNvbigpKS50aGVuKCBkYXRhID0+IHt0aGlzLnNldFN0YXRlKHtjdXJyQ2l0aWVzOiBkYXRhfSlcbiAgICAgXG4gICAgLy8gY29tcG9uZW50RGlkTW91bnQoKXtcbiAgICAvLyAgICAgdGhpcy5sb2FkQ2l0aWVzKCk7XG4gICAgLy8gfTtcblxuICAgIGxvYWRDaXRpZXMgPSAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc3RhdGUuYXBpX3VybCsnaW1hZ2VzLycpLnRoZW4ocmVzcCA9PiByZXNwLmpzb24oKSlcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2luc2lkZSBsb2FkIGNpdGllcycpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZVsxXS5uYW1lKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyQ2l0aWVzOiByZXNwb25zZSxcbiAgICAgICAgICAgIGNpdGllczogcmVzcG9uc2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvd1RoZW0gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUuY3VyckNpdGllcyk7XG4gICAgfVxuXG4gICAgY2hhbmdlQ3VyckNpdGllcyA9IChuZXdDaXRpZXMsbnVtQ2hvaWNlcykgPT4ge1xuICAgICAgICBpZiAobmV3Q2l0aWVzLmxlbmd0aCA+PSBudW1DaG9pY2VzKXtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJDaXRpZXM6bmV3Q2l0aWVzfSk7ICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtjdXJyQ2l0aWVzOiB0aGlzLnN0YXRlLmNpdGllc30pOyBcbiAgICAgICAgfVxuICAgIH07XG4gIFxuXG4gICAgcmVuZGVyKCkgeyBcbiAgICAgICAgcmV0dXJuICggIFxuICAgICAgICAgICAgPENpdHlDb250ZXh0LlByb3ZpZGVyIFxuICAgICAgICAgICAgICAgIHZhbHVlPXt7Li4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlQ3VyckNpdGllczogdGhpcy5jaGFuZ2VDdXJyQ2l0aWVzLFxuICAgICAgICAgICAgICAgICAgICBnZXRDaXRpZXM6IHRoaXMubG9hZENpdGllcyxcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RoZW06IHRoaXMuc2hvd1RoZW1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPC9DaXR5Q29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgICApO1xuICAgIH1cbn1cbiBcblxuXG5jb25zdCBDaXR5Q29uc3VtZXIgPSBDaXR5Q29udGV4dC5Db25zdW1lcjtcblxuZXhwb3J0IHsgQ2l0eVByb3ZpZGVyLCBDaXR5Q29udGV4dCAsIENpdHlDb25zdW1lciB9OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgXCIuLi9jc3MvT3B0aW9ucy5jc3NcIjtcblxuY29uc3QgT3B0aW9ucyA9ICh7bmFtZSxnaXZlbk9wdGlvbixjaGFuZ2UsZGlzYWJsZWR9KSA9PiB7XG4gICAgcmV0dXJuICggXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cIm9wdGlvblwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17ZGlzYWJsZWQgPyBcIm9wdGlvbkxhYmVsR3JleWVkXCIgOlwib3B0aW9uTGFiZWxcIn0+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Z2l2ZW5PcHRpb24gPT09IG5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17Y2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfSAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAge25hbWV9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIClcbn07XG4gXG5leHBvcnQgZGVmYXVsdCBPcHRpb25zOyIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9PcHRpb25zLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm9wdGlvbiB7XFxuXFxufVxcblxcbi5vcHRpb25MYWJlbHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQocmdiKDExMSwgMTk3LCAyNTUpLHJnYigyMDcsIDIzMiwgMjQzKSxyZ2IoMTExLCAxOTcsIDI1NSkpO1xcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xcbiAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xcbiAgICBib3JkZXItY29sb3I6IHJnYigzMiwgNTEsIDIxOCk7XFxufVxcblxcbi5vcHRpb25MYWJlbEdyZXllZHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQocmdiKDEzNSwgMTQwLCAxNDMpLHJnYigxNjksIDE3NCwgMTc3KSxyZ2IoMTM1LCAxNDAsIDE0MykpO1xcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xcbiAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xcbiAgICBib3JkZXItY29sb3I6IHJnYigzMiwgNTEsIDIxOCk7XFxufVxcblxcbmlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl17XFxuICAgIG1hcmdpbjogMCAzNXB4IDAgMDtcXG4gIH1cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMjAwcHgpIHtcXG4gICAgaW5wdXRbdHlwZT1cXFwicmFkaW9cXFwiXXtcXG4gICAgICAgIG1hcmdpbjogMCAwIDAgMDtcXG4gICAgfVxcbiAgICAub3B0aW9uTGFiZWwge1xcbiAgICAgICAgbWFyZ2luOjA7XFxuICAgICAgICBwYWRkaW5nOjA7XFxuICAgIH1cXG59XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgXCIuLi9jc3MvT25TdWJtaXRNZXNzYWdlLmNzc1wiO1xuXG5jb25zdCBPblN1Ym1pdE1lc3NhZ2UgPSAoe2NvcnJlY3R9KSA9PiB7XG4gICAgcmV0dXJuICggY29ycmVjdCBcbiAgICAgICAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29ycmVjdFwiPmNvcnJlY3Q8L2Rpdj5cbiAgICAgICAgKSBcbiAgICAgICAgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmFsc2VcIj5mYWxzZTwvZGl2PlxuICAgICAgICApXG4gICAgICAgIC8vIDw+XG4gICAgICAgIC8vICAgICA8ZGl2PiBcbiAgICAgICAgLy8gICAgIHsgY29ycmVjdCAmJiAoXG4gICAgICAgIC8vICAgICAgICAgPGRpdj5cbiAgICAgICAgLy8gICAgICAgICAgICAgQ29ycmVjdCFcbiAgICAgICAgLy8gICAgICAgICA8L2Rpdj5cbiAgICAgICAgLy8gICAgICl9XG4gICAgICAgIC8vICAgICA8L2Rpdj5cbiAgICAgICAgLy8gICAgIDxkaXY+XG4gICAgICAgIC8vICAgICB7ICFjb3JyZWN0ICYmIChcbiAgICAgICAgLy8gICAgICAgICA8ZGl2PlxuICAgICAgICAvLyAgICAgICAgICAgICBGYWxzZSFcbiAgICAgICAgLy8gICAgICAgICA8L2Rpdj5cbiAgICAgICAgLy8gICAgICl9XG4gICAgICAgIC8vICAgICA8L2Rpdj5cbiAgICAgICAgLy8gPC8+XG4gICAgICk7XG59XG4gXG5leHBvcnQgZGVmYXVsdCBPblN1Ym1pdE1lc3NhZ2U7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjIwZTA3OTZiMDk5MTlhYzMyMjM5MWVkNWNlZWY0YWJiLnBuZ1wiOyIsImltcG9ydCBSZWFjdCx7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBcIi4uL2Nzcy9Ib21lLmNzc1wiO1xyXG5pbXBvcnQgeyBDaXR5Q29udGV4dCB9ICBmcm9tIFwiLi4vY29udGV4dFwiO1xyXG5pbXBvcnQgT3B0aW9ucyBmcm9tIFwiLi9PcHRpb25zXCI7XHJcbmltcG9ydCBPblN1Ym1pdE1lc3NhZ2UgZnJvbSBcIi4vT25TdWJtaXRNZXNzYWdlXCI7XHJcbmltcG9ydCBwbGFjZWhvbGRlciBmcm9tIFwiLi4vYXNzZXRzL2xvYWRpbmcucG5nXCJcclxuXHJcblxyXG5jbGFzcyBIb21lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7IFxyXG4gICAgICAgIGNvcnJlY3RPcHRpb246IFtdLFxyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uOiBcIlwiLFxyXG4gICAgICAgIHVzZXJTdWJtaXRlZDogZmFsc2UsXHJcbiAgICAgICAgY29ycmVjdDogZmFsc2UsXHJcbiAgICAgICAgY2l0eURpcGxheWVkOiBbXSxcclxuICAgICAgICBjaXR5Q2hvaWNlczogW10sXHJcbiAgICAgICAgZmluaXNoZWRMb2FkaW5nOiBmYWxzZVxyXG4gICAgIH07XHJcbiAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBsb2FkQ2l0aWVzKGN1cnJDaXRpZXMpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtcGhrYScpXHJcbiAgICAgICAgICAgIGxldCBudW1DaG9pY2VzPTQ7XHJcbiAgICAgICAgICAgIGxldCBjaXR5Q2hvaWNlcz1bXTtcclxuICAgICAgICAgICAgbGV0IG5ld0NpdGllcz1bLi4uY3VyckNpdGllc107XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0xO2k8PW51bUNob2ljZXM7aSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCByYW5kSW5kZXg9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm5ld0NpdGllcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgY2l0eUNob2ljZXMucHVzaChuZXdDaXRpZXNbcmFuZEluZGV4XSk7XHJcbiAgICAgICAgICAgICAgICBuZXdDaXRpZXMuc3BsaWNlKHJhbmRJbmRleCwxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGNoYW5nZUN1cnJDaXRpZXMgfSA9IHRoaXMuY29udGV4dDtcclxuICAgICAgICAgICAgY2hhbmdlQ3VyckNpdGllcyhuZXdDaXRpZXMsbnVtQ2hvaWNlcyk7XHJcbiAgICAgICAgICAgIGxldCBjaXR5RGlwbGF5ZWQ9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmNpdHlDaG9pY2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnNpZGUgbG9hZGNpdGllcycpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNpdHlDaG9pY2VzW2NpdHlEaXBsYXllZF0pXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdXNlclN1Ym1pdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNvcnJlY3RPcHRpb246IGNpdHlDaG9pY2VzW2NpdHlEaXBsYXllZF0sXHJcbiAgICAgICAgICAgICAgICBjaXR5RGlwbGF5ZWQ6IGNpdHlDaG9pY2VzW2NpdHlEaXBsYXllZF0sXHJcbiAgICAgICAgICAgICAgICBjaXR5Q2hvaWNlczogY2l0eUNob2ljZXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGhhbmRsZUNoYW5nZSA9IGNoYW5nZUV2ZW50ID0+IHtcclxuICAgICAgICAvLyBjb25zdCB7IGN1cnJDaXRpZXMgfSA9IHRoaXMuY29udGV4dDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJlbWFpbmluZyBjaXRpZXM6IFwiLGN1cnJDaXRpZXMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiBjaGFuZ2VFdmVudC50YXJnZXQudmFsdWVcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgaGFuZGxlRm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXRFdmVudCA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZm9ybVN1Ym1pdEV2ZW50LnRhcmdldCk7IFxyXG4gICAgICAgIGZvcm1TdWJtaXRFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiWW91IGhhdmUgc3VibWl0dGVkOiBcIiwgdGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJDb3JyZWN0IG9wdGlvbjogXCIsdGhpcy5zdGF0ZS5jb3JyZWN0T3B0aW9uLm5hbWUpXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb24gPT09IHRoaXMuc3RhdGUuY29ycmVjdE9wdGlvbi5uYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdXNlclN1Ym1pdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29ycmVjdDogdHJ1ZVxyXG4gICAgICAgICAgICAgIH0pOyAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VyU3VibWl0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb3JyZWN0OiBmYWxzZVxyXG4gICAgICAgICAgICAgIH0pOyBcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY2l0eURpcGxheWVkOiB7aWQ6IDAsbmFtZTogJ3BsYWNlaG9sZGVyJyx1cmw6IHBsYWNlaG9sZGVyfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc29sZS5sb2coJ2thdGkgJysgdGhpcy5jb250ZXh0KTtcclxuICAgICAgICBjb25zdCB7IGdldENpdGllcyB9ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIGF3YWl0IGdldENpdGllcygpO1xyXG4gICAgICAgIGNvbnN0IHsgY3VyckNpdGllcyB9ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2ZpbmlzaGVkTG9hZGluZzogdHJ1ZX0pXHJcbiAgICAgICAgY29uc29sZS5sb2coJ2luc2lkZSBIb21lLmpzJylcclxuICAgICAgICBjb25zb2xlLmxvZyhjdXJyQ2l0aWVzKVxyXG4gICAgICAgIHRoaXMubG9hZENpdGllcyhjdXJyQ2l0aWVzKVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyQ2l0aWVzLCBhcGlfdXJsIH0gPSB0aGlzLmNvbnRleHQ7XHJcbiAgICAgICAgcmV0dXJuICggXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9tZS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz17YXBpX3VybCt0aGlzLnN0YXRlLmNpdHlEaXBsYXllZC51cmx9IGFsdD17dGhpcy5zdGF0ZS5jaXR5RGlwbGF5ZWQubmFtZX0gY2xhc3NOYW1lPVwiaW1hZ2VcIiAvPlxyXG4gICAgICAgICAgICAgICAge2NvbnNvbGUubG9nKCdpbiBpbWFnZScpfVxyXG4gICAgICAgICAgICAgICAge2NvbnNvbGUubG9nKHRoaXMuc3RhdGUuY2l0eURpcGxheWVkLnVybCsnICAnK2FwaV91cmwpfVxyXG4gICAgICAgICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybVwiIG9uU3VibWl0PXt0aGlzLmhhbmRsZUZvcm1TdWJtaXR9ID5cclxuICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jaXR5Q2hvaWNlcy5tYXAoIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXR5ID0+IDxPcHRpb25zIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtjaXR5Lm5hbWV9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaXZlbk9wdGlvbj17dGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbn0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NpdHkuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnVzZXJTdWJtaXRlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+ICBcclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHBhcGlhPVwicGFwaWFcIiB2YWx1ZT1cInN1Ym1pdFwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIiBcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUudXNlclN1Ym1pdGVkfSBcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc3RhdGUudXNlclN1Ym1pdGVkID8gXCJub3JtYWxcIiA6IFwiZ3JleWVkXCJ9IFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMubG9hZENpdGllcyhjdXJyQ2l0aWVzKX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgTmV4dFxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMuc3RhdGUudXNlclN1Ym1pdGVkIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDxPblN1Ym1pdE1lc3NhZ2UgY29ycmVjdD17dGhpcy5zdGF0ZS5jb3JyZWN0fS8+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDxkaXY+Q2hvb3NlIGEgQ2l0eTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXN0XCI+IHBhcGlhIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5Ib21lLmNvbnRleHRUeXBlID0gQ2l0eUNvbnRleHQ7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBIb21lOyIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9Ib21lLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmhvbWUtYm9keSB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIG1pbm1heCgxMDBweCwgMWZyKSk7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDMsIG1pbm1heCgxMDBweCwgMWZyKSk7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMDYsIDIwOSwgMjA4KTsgXFxuICAgIC8qIGJvcmRlcjogcmdiKDIzNiwgOCwgMTYwKTtcXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsgKi9cXG59XFxuXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTIwMHB4KSB7XFxuICAgIC5ob21lLWJvZHl7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgfVxcbiAgfVxcblxcbi5yZXN1bHQge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgLyogYm9yZGVyOiByZ2IoNDIsIDIxNiwgMzYpO1xcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkOyAqL1xcbiAgICBncmlkLWNvbHVtbjogMjtcXG4gICAgZ3JpZC1yb3c6IDI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5pbWFnZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtzbGF0ZWJsdWU7XFxuICAgIGJvcmRlcjogcmdiKDg0LCA4NSwgODcpO1xcbiAgICBib3JkZXItc3R5bGU6IGdyb292ZTtcXG4gICAgYm9yZGVyLXdpZHRoOiAxNXB4O1xcbiAgICBoZWlnaHQ6IDYwMHB4IDtcXG4gICAgd2lkdGg6MTAwJTtcXG4gICAgZ3JpZC1yb3c6IDEgLyAzO1xcbiAgICBncmlkLWNvbHVtbjogMTtcXG59XFxuXFxuXFxuLmZvcm0ge1xcbiAgICBkaXNwbGF5OmZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIFxcbn1cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1MDBweCkge1xcbiAgICAuZm9ybXtcXG4gICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgIH1cXG4gICAgIH1cXG4uZm9ybSA+IGlucHV0IHtcXG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gICAgbWFyZ2luLWxlZnQ6IDEwdnc7XFxuICAgIG1hcmdpbi1yaWdodDogMTB2dztcXG4gICAgcGFkZGluZzogNXB4O1xcbiAgICBcXG59XFxuXFxuLmZvcm0gPiBzZWN0aW9uIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgbWFyZ2luLWxlZnQ6IDJ2dyA7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbiAgICBtaW4td2lkdGg6IDIwMHB4O1xcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1MDBweCkge1xcbiAgICAuZm9ybSA+IHNlY3Rpb24ge1xcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgfVxcbn1cXG5cXG4ubm9ybWFse1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjaGFydHJldXNlO1xcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktc2VsZjogY2VudGVyO1xcbiAgICBtYXJnaW4tbGVmdDogMXZ3O1xcbiAgICBtYXJnaW4tcmlnaHQ6IDF2dztcXG4gICAgcGFkZGluZzogMjBweDtcXG5cXG59XFxuXFxuLmdyZXllZHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDk5LCA5OSwgOTkpO1xcbiAgICBjb2xvcjogZmxvcmFsd2hpdGU7XFxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XFxuICAgIG1hcmdpbi1sZWZ0OiAxdnc7XFxuICAgIG1hcmdpbi1yaWdodDogMXZ3O1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcblxcbn1cXG5cXG5cXG5cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL09uU3VibWl0TWVzc2FnZS5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jb3JyZWN0IHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMCwgMjIwLCA3MCk7XFxuICAgIGhlaWdodDogNTBweDtcXG4gICAgd2lkdGg6IDgwcHg7XFxuXFxuICAgIC8qIGJvcmRlcjogcmdiKDQyLCAyMTYsIDM2KTtcXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsgKi9cXG59XFxuXFxuLmZhbHNlIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMjAsIDIwLCAyMCk7XFxuICAgIGhlaWdodDogNTBweDtcXG4gICAgd2lkdGg6IDgwcHg7XFxuXFxuICAgIC8qIGJvcmRlcjogcmdiKDQyLCAyMTYsIDM2KTtcXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsgKi9cXG59XFxuXFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJzb3VyY2VSb290IjoiIn0=