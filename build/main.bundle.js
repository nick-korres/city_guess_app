!function(e){function t(t){for(var r,a,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={4:0,2:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([33,0]),n()}([,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return k}));var r=n(4),i=n.n(r),o=n(10),a=n.n(o),c=n(11),s=n.n(c),l=n(12),u=n.n(l),d=n(2),p=n.n(d),f=n(13),g=n.n(f),h=n(5),m=n.n(h),b=n(14),y=n.n(b),v=n(1),x=n.n(v),w=n(0),O=n.n(w);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=O.a.createContext(),E=function(e){y()(r,e);var t,n=(t=r,function(){var e,n=m()(t);if(S()){var r=m()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g()(this,e)});function r(){var e;return s()(this,r),e=n.call(this),x()(p()(e),"loadCities",a()(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.state.api_url+"images/").then((function(e){return e.json()}));case 2:n=t.sent,e.setState({currCities:n,cities:n});case 4:case"end":return t.stop()}}),t)})))),x()(p()(e),"showThem",(function(){console.log(e.state.currCities)})),x()(p()(e),"changeCurrCities",(function(t,n){t.length>=n?e.setState({currCities:t}):e.setState({currCities:e.state.cities})})),e.state={currCities:[],cities:[],api_url:"https://city-guess-api.herokuapp.com/"},e}return u()(r,[{key:"render",value:function(){return O.a.createElement(k.Provider,{value:j({},this.state,{changeCurrCities:this.changeCurrCities,getCities:this.loadCities,showThem:this.showThem})},this.props.children)}}]),r}(w.Component);k.Consumer},,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r);n(19);t.default=function(e){var t=e.name,n=e.givenOption,r=e.change,o=e.disabled;return i.a.createElement("section",{className:"option"},i.a.createElement("label",{className:o?"optionLabelGreyed":"optionLabel"},i.a.createElement("input",{type:"radio",name:t,value:t,checked:n===t,onChange:r,disabled:o}),t))}},,,function(e,t,n){var r=n(6),i=n(20);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});e.exports=a},function(e,t,n){(t=n(7)(!1)).push([e.i,'.option {\n\n}\n\n.optionLabel{\n    background-image: -moz-linear-gradient(rgb(111, 197, 255),rgb(207, 232, 243),rgb(111, 197, 255));\n    padding-top: 5px;\n    padding-right: 30px;\n    border-radius: 30px;\n    border-style: solid;\n    border-color: rgb(32, 51, 218);\n}\n\n.optionLabelGreyed{\n    background-image: -moz-linear-gradient(rgb(135, 140, 143),rgb(169, 174, 177),rgb(135, 140, 143));\n    padding-top: 5px;\n    padding-right: 30px;\n    border-radius: 30px;\n    border-style: solid;\n    border-color: rgb(32, 51, 218);\n}\n\ninput[type="radio"]{\n    margin: 0 35px 0 0;\n  }\n@media screen and (max-width: 1200px) {\n    input[type="radio"]{\n        margin: 0 0 0 0;\n    }\n    .optionLabel {\n        margin:0;\n        padding:0;\n    }\n}',""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(10),a=n.n(o),c=n(25),s=n.n(c),l=n(11),u=n.n(l),d=n(12),p=n.n(d),f=n(2),g=n.n(f),h=n(13),m=n.n(h),b=n(5),y=n.n(b),v=n(14),x=n.n(v),w=n(1),O=n.n(w),C=n(0),j=n.n(C),S=(n(27),n(9)),k=n(16),E=(n(29),function(e){return e.correct?j.a.createElement("div",{className:"correct"},"correct"):j.a.createElement("div",{className:"false"},"false")}),P=n.p+"20e0796b09919ac322391ed5ceef4abb.png";function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){x()(o,e);var t,n,r=(t=o,function(){var e,n=y()(t);if(D()){var r=y()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return m()(this,e)});function o(e){var t;return u()(this,o),t=r.call(this,e),O()(g()(t),"handleChange",(function(e){t.setState({selectedOption:e.target.value})})),O()(g()(t),"handleFormSubmit",(function(e){e.preventDefault(),t.state.selectedOption===t.state.correctOption.name?t.setState({userSubmited:!0,correct:!0}):t.setState({userSubmited:!0,correct:!1})})),t.state={correctOption:[],selectedOption:"",userSubmited:!1,correct:!1,cityDiplayed:[],cityChoices:[],finishedLoading:!1},t}return p()(o,[{key:"loadCities",value:function(e){console.log("mphka");for(var t=[],n=s()(e),r=1;r<=4;r++){var i=Math.floor(Math.random()*n.length);t.push(n[i]),n.splice(i,1)}(0,this.context.changeCurrCities)(n,4);var o=Math.floor(Math.random()*t.length);console.log("inside loadcities"),console.log(t[o]),this.setState({userSubmited:!1,correctOption:t[o],cityDiplayed:t[o],cityChoices:t})}},{key:"componentDidMount",value:(n=a()(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({cityDiplayed:{id:0,name:"placeholder",url:P}}),console.log("kati "+this.context),t=this.context.getCities,e.next=5,t();case 5:n=this.context.currCities,this.setState({finishedLoading:!0}),console.log("inside Home.js"),console.log(n),this.loadCities(n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.context,n=t.currCities,r=t.api_url;return j.a.createElement("div",{className:"home-body"},j.a.createElement("img",{src:r+this.state.cityDiplayed.url,alt:this.state.cityDiplayed.name,className:"image"}),console.log("in image"),console.log(this.state.cityDiplayed.url+"  "+r),j.a.createElement("form",{className:"form",onSubmit:this.handleFormSubmit},j.a.createElement("section",null,this.state.cityChoices.map((function(t){return j.a.createElement(k.default,{name:t.name,givenOption:e.state.selectedOption,change:e.handleChange,key:t.id,disabled:e.state.userSubmited})}))),j.a.createElement("input",{type:"submit",papia:"papia",value:"submit"}),j.a.createElement("button",{type:"button",disabled:!this.state.userSubmited,className:this.state.userSubmited?"normal":"greyed",onClick:function(){return e.loadCities(n)}},"Next")),j.a.createElement("div",{className:"result"},this.state.userSubmited?j.a.createElement(E,{correct:this.state.correct}):j.a.createElement("div",null,"Choose a City")),j.a.createElement("div",{className:"test"}," papia "))}}]),o}(j.a.Component);_.contextType=S.a;t.default=_},,,,,,function(e,t,n){var r=n(6),i=n(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});e.exports=a},function(e,t,n){(t=n(7)(!1)).push([e.i,".home-body {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n    grid-template-rows: repeat(3, minmax(100px, 1fr));\n    justify-content: center;\n    align-content: center;\n    background-color: rgb(206, 209, 208); \n    /* border: rgb(236, 8, 160);\n    border-style: solid; */\n}\n\n@media screen and (max-width: 1200px) {\n    .home-body{\n        display: flex;\n        flex-direction: column;\n    }\n  }\n\n.result {\n    display: flex;\n    justify-content: center;\n    /* border: rgb(42, 216, 36);\n    border-style: solid; */\n    grid-column: 2;\n    grid-row: 2;\n    align-items: center;\n}\n\n.image {\n    background-color: darkslateblue;\n    border: rgb(84, 85, 87);\n    border-style: groove;\n    border-width: 15px;\n    height: 600px ;\n    width:100%;\n    grid-row: 1 / 3;\n    grid-column: 1;\n}\n\n\n.form {\n    display:flex;\n    flex-direction: row;\n    \n}\n@media screen and (max-width: 500px) {\n    .form{\n           flex-direction: column;\n       }\n     }\n.form > input {\n    align-self: center;\n    justify-self: center;\n    margin-left: 10vw;\n    margin-right: 10vw;\n    padding: 5px;\n    \n}\n\n.form > section {\n    display: flex;\n    flex-direction: column;\n    margin-left: 2vw ;\n    justify-content: space-around;\n    min-width: 200px;\n    max-width: 500px;\n}\n\n@media screen and (max-width: 500px) {\n    .form > section {\n        flex-direction: row;\n    }\n}\n\n.normal{\n    background-color: chartreuse;\n    align-self: center;\n    justify-self: center;\n    margin-left: 1vw;\n    margin-right: 1vw;\n    padding: 20px;\n\n}\n\n.greyed{\n    background-color: rgb(99, 99, 99);\n    color: floralwhite;\n    align-self: center;\n    justify-self: center;\n    margin-left: 1vw;\n    margin-right: 1vw;\n    padding: 20px;\n\n}\n\n\n\n",""]),e.exports=t},function(e,t,n){var r=n(6),i=n(30);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});e.exports=a},function(e,t,n){(t=n(7)(!1)).push([e.i,".correct {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgb(20, 220, 70);\n    height: 50px;\n    width: 80px;\n\n    /* border: rgb(42, 216, 36);\n    border-style: solid; */\n}\n\n.false {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgb(220, 20, 20);\n    height: 50px;\n    width: 80px;\n\n    /* border: rgb(42, 216, 36);\n    border-style: solid; */\n}\n\n",""]),e.exports=t},,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(9),a=n(21);t.default=function(){return i.a.createElement(o.b,null,i.a.createElement(a.default,null))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL09wdGlvbnMuY3NzPzQ5YzQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9PcHRpb25zLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9PblN1Ym1pdE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9sb2FkaW5nLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Ib21lLmpzIiwid2VicGFjazovLy8uL3NyYy9jc3MvSG9tZS5jc3M/MGY5MyIsIndlYnBhY2s6Ly8vLi9zcmMvY3NzL0hvbWUuY3NzIiwid2VicGFjazovLy8uL3NyYy9jc3MvT25TdWJtaXRNZXNzYWdlLmNzcz9lMGZkIiwid2VicGFjazovLy8uL3NyYy9jc3MvT25TdWJtaXRNZXNzYWdlLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9NYWluLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiNCIsIjIiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIkNpdHlDb250ZXh0IiwiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwiQ2l0eVByb3ZpZGVyIiwiYSIsImZldGNoIiwic3RhdGUiLCJhcGlfdXJsIiwidGhlbiIsInJlc3AiLCJqc29uIiwicmVzcG9uc2UiLCJzZXRTdGF0ZSIsImN1cnJDaXRpZXMiLCJjaXRpZXMiLCJjb25zb2xlIiwibG9nIiwibmV3Q2l0aWVzIiwibnVtQ2hvaWNlcyIsIlByb3ZpZGVyIiwidGhpcyIsImNoYW5nZUN1cnJDaXRpZXMiLCJnZXRDaXRpZXMiLCJsb2FkQ2l0aWVzIiwic2hvd1RoZW0iLCJwcm9wcyIsImNoaWxkcmVuIiwiQ29tcG9uZW50IiwiQ29uc3VtZXIiLCJPcHRpb25zIiwiZ2l2ZW5PcHRpb24iLCJjaGFuZ2UiLCJkaXNhYmxlZCIsImNsYXNzTmFtZSIsInR5cGUiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsIk9uU3VibWl0TWVzc2FnZSIsImNvcnJlY3QiLCJIb21lIiwiY2hhbmdlRXZlbnQiLCJzZWxlY3RlZE9wdGlvbiIsInRhcmdldCIsImZvcm1TdWJtaXRFdmVudCIsInByZXZlbnREZWZhdWx0IiwiY29ycmVjdE9wdGlvbiIsInVzZXJTdWJtaXRlZCIsImNpdHlEaXBsYXllZCIsImNpdHlDaG9pY2VzIiwiZmluaXNoZWRMb2FkaW5nIiwicmFuZEluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29udGV4dCIsImlkIiwidXJsIiwicGxhY2Vob2xkZXIiLCJzcmMiLCJhbHQiLCJvblN1Ym1pdCIsImhhbmRsZUZvcm1TdWJtaXQiLCJtYXAiLCJjaXR5IiwiaGFuZGxlQ2hhbmdlIiwicGFwaWEiLCJvbkNsaWNrIiwiY29udGV4dFR5cGUiLCJNYWluIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQsT0FBUWdCLElBQUssQ0FDOUMsSUFBSUMsRUFBUUgsRUFBZUUsR0FDRyxJQUEzQlgsRUFBZ0JZLEtBQWNGLEdBQVksR0FFM0NBLElBQ0ZM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S0FDSSxrQkFBQyxVQUFEIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQ0OiAwLFxuIFx0XHQyOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFszMywwXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IENpdHlDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgpO1xuXG5jbGFzcyBDaXR5UHJvdmlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCkgIFxuICAgICAgICB0aGlzLnN0YXRlID0geyBcbiAgICAgICAgICAgIGN1cnJDaXRpZXM6W10sXG4gICAgICAgICAgICBjaXRpZXM6W10sXG4gICAgICAgICAgICBhcGlfdXJsOiAnaHR0cHM6Ly9jaXR5LWd1ZXNzLWFwaS5oZXJva3VhcHAuY29tLydcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjUwMDAvJykudGhlbiggcmVzID0+IHJlcy5qc29uKCkpLnRoZW4oIGRhdGEgPT4ge3RoaXMuc2V0U3RhdGUoe2N1cnJDaXRpZXM6IGRhdGF9KVxuICAgICBcbiAgICAvLyBjb21wb25lbnREaWRNb3VudCgpe1xuICAgIC8vICAgICB0aGlzLmxvYWRDaXRpZXMoKTtcbiAgICAvLyB9O1xuXG4gICAgbG9hZENpdGllcyA9ICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zdGF0ZS5hcGlfdXJsKydpbWFnZXMvJykudGhlbihyZXNwID0+IHJlc3AuanNvbigpKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaW5zaWRlIGxvYWQgY2l0aWVzJyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlWzFdLm5hbWUpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGN1cnJDaXRpZXM6IHJlc3BvbnNlLFxuICAgICAgICAgICAgY2l0aWVzOiByZXNwb25zZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaG93VGhlbSA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS5jdXJyQ2l0aWVzKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VDdXJyQ2l0aWVzID0gKG5ld0NpdGllcyxudW1DaG9pY2VzKSA9PiB7XG4gICAgICAgIGlmIChuZXdDaXRpZXMubGVuZ3RoID49IG51bUNob2ljZXMpe1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7Y3VyckNpdGllczpuZXdDaXRpZXN9KTsgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJDaXRpZXM6IHRoaXMuc3RhdGUuY2l0aWVzfSk7IFxuICAgICAgICB9XG4gICAgfTtcbiAgXG5cbiAgICByZW5kZXIoKSB7IFxuICAgICAgICByZXR1cm4gKCAgXG4gICAgICAgICAgICA8Q2l0eUNvbnRleHQuUHJvdmlkZXIgXG4gICAgICAgICAgICAgICAgdmFsdWU9e3suLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VDdXJyQ2l0aWVzOiB0aGlzLmNoYW5nZUN1cnJDaXRpZXMsXG4gICAgICAgICAgICAgICAgICAgIGdldENpdGllczogdGhpcy5sb2FkQ2l0aWVzLFxuICAgICAgICAgICAgICAgICAgICBzaG93VGhlbTogdGhpcy5zaG93VGhlbVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICA8L0NpdHlDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICk7XG4gICAgfVxufVxuIFxuXG5cbmNvbnN0IENpdHlDb25zdW1lciA9IENpdHlDb250ZXh0LkNvbnN1bWVyO1xuXG5leHBvcnQgeyBDaXR5UHJvdmlkZXIsIENpdHlDb250ZXh0ICwgQ2l0eUNvbnN1bWVyIH07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBcIi4uL2Nzcy9PcHRpb25zLmNzc1wiO1xuXG5jb25zdCBPcHRpb25zID0gKHtuYW1lLGdpdmVuT3B0aW9uLGNoYW5nZSxkaXNhYmxlZH0pID0+IHtcbiAgICByZXR1cm4gKCBcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwib3B0aW9uXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtkaXNhYmxlZCA/IFwib3B0aW9uTGFiZWxHcmV5ZWRcIiA6XCJvcHRpb25MYWJlbFwifT5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtnaXZlbk9wdGlvbiA9PT0gbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtjaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9ICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7bmFtZX1cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgKVxufTtcbiBcbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnM7IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL09wdGlvbnMuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIub3B0aW9uIHtcXG5cXG59XFxuXFxuLm9wdGlvbkxhYmVse1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudChyZ2IoMTExLCAxOTcsIDI1NSkscmdiKDIwNywgMjMyLCAyNDMpLHJnYigxMTEsIDE5NywgMjU1KSk7XFxuICAgIHBhZGRpbmctdG9wOiA1cHg7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDMwcHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XFxuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICAgIGJvcmRlci1jb2xvcjogcmdiKDMyLCA1MSwgMjE4KTtcXG59XFxuXFxuLm9wdGlvbkxhYmVsR3JleWVke1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudChyZ2IoMTM1LCAxNDAsIDE0MykscmdiKDE2OSwgMTc0LCAxNzcpLHJnYigxMzUsIDE0MCwgMTQzKSk7XFxuICAgIHBhZGRpbmctdG9wOiA1cHg7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDMwcHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XFxuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICAgIGJvcmRlci1jb2xvcjogcmdiKDMyLCA1MSwgMjE4KTtcXG59XFxuXFxuaW5wdXRbdHlwZT1cXFwicmFkaW9cXFwiXXtcXG4gICAgbWFyZ2luOiAwIDM1cHggMCAwO1xcbiAgfVxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEyMDBweCkge1xcbiAgICBpbnB1dFt0eXBlPVxcXCJyYWRpb1xcXCJde1xcbiAgICAgICAgbWFyZ2luOiAwIDAgMCAwO1xcbiAgICB9XFxuICAgIC5vcHRpb25MYWJlbCB7XFxuICAgICAgICBtYXJnaW46MDtcXG4gICAgICAgIHBhZGRpbmc6MDtcXG4gICAgfVxcbn1cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBcIi4uL2Nzcy9PblN1Ym1pdE1lc3NhZ2UuY3NzXCI7XG5cbmNvbnN0IE9uU3VibWl0TWVzc2FnZSA9ICh7Y29ycmVjdH0pID0+IHtcbiAgICByZXR1cm4gKCBjb3JyZWN0IFxuICAgICAgICA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3JyZWN0XCI+Y29ycmVjdDwvZGl2PlxuICAgICAgICApIFxuICAgICAgICA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmYWxzZVwiPmZhbHNlPC9kaXY+XG4gICAgICAgIClcbiAgICAgICAgLy8gPD5cbiAgICAgICAgLy8gICAgIDxkaXY+IFxuICAgICAgICAvLyAgICAgeyBjb3JyZWN0ICYmIChcbiAgICAgICAgLy8gICAgICAgICA8ZGl2PlxuICAgICAgICAvLyAgICAgICAgICAgICBDb3JyZWN0IVxuICAgICAgICAvLyAgICAgICAgIDwvZGl2PlxuICAgICAgICAvLyAgICAgKX1cbiAgICAgICAgLy8gICAgIDwvZGl2PlxuICAgICAgICAvLyAgICAgPGRpdj5cbiAgICAgICAgLy8gICAgIHsgIWNvcnJlY3QgJiYgKFxuICAgICAgICAvLyAgICAgICAgIDxkaXY+XG4gICAgICAgIC8vICAgICAgICAgICAgIEZhbHNlIVxuICAgICAgICAvLyAgICAgICAgIDwvZGl2PlxuICAgICAgICAvLyAgICAgKX1cbiAgICAgICAgLy8gICAgIDwvZGl2PlxuICAgICAgICAvLyA8Lz5cbiAgICAgKTtcbn1cbiBcbmV4cG9ydCBkZWZhdWx0IE9uU3VibWl0TWVzc2FnZTsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMjBlMDc5NmIwOTkxOWFjMzIyMzkxZWQ1Y2VlZjRhYmIucG5nXCI7IiwiaW1wb3J0IFJlYWN0LHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFwiLi4vY3NzL0hvbWUuY3NzXCI7XHJcbmltcG9ydCB7IENpdHlDb250ZXh0IH0gIGZyb20gXCIuLi9jb250ZXh0XCI7XHJcbmltcG9ydCBPcHRpb25zIGZyb20gXCIuL09wdGlvbnNcIjtcclxuaW1wb3J0IE9uU3VibWl0TWVzc2FnZSBmcm9tIFwiLi9PblN1Ym1pdE1lc3NhZ2VcIjtcclxuaW1wb3J0IHBsYWNlaG9sZGVyIGZyb20gXCIuLi9hc3NldHMvbG9hZGluZy5wbmdcIlxyXG5cclxuXHJcbmNsYXNzIEhvbWUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpe1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHsgXHJcbiAgICAgICAgY29ycmVjdE9wdGlvbjogW10sXHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb246IFwiXCIsXHJcbiAgICAgICAgdXNlclN1Ym1pdGVkOiBmYWxzZSxcclxuICAgICAgICBjb3JyZWN0OiBmYWxzZSxcclxuICAgICAgICBjaXR5RGlwbGF5ZWQ6IFtdLFxyXG4gICAgICAgIGNpdHlDaG9pY2VzOiBbXSxcclxuICAgICAgICBmaW5pc2hlZExvYWRpbmc6IGZhbHNlXHJcbiAgICAgfTtcclxuICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIGxvYWRDaXRpZXMoY3VyckNpdGllcykge1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ21waGthJylcclxuICAgICAgICAgICAgbGV0IG51bUNob2ljZXM9NDtcclxuICAgICAgICAgICAgbGV0IGNpdHlDaG9pY2VzPVtdO1xyXG4gICAgICAgICAgICBsZXQgbmV3Q2l0aWVzPVsuLi5jdXJyQ2l0aWVzXTtcclxuICAgICAgICAgICAgZm9yKGxldCBpPTE7aTw9bnVtQ2hvaWNlcztpKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhbmRJbmRleD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbmV3Q2l0aWVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBjaXR5Q2hvaWNlcy5wdXNoKG5ld0NpdGllc1tyYW5kSW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIG5ld0NpdGllcy5zcGxpY2UocmFuZEluZGV4LDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhbmdlQ3VyckNpdGllcyB9ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgICAgICBjaGFuZ2VDdXJyQ2l0aWVzKG5ld0NpdGllcyxudW1DaG9pY2VzKTtcclxuICAgICAgICAgICAgbGV0IGNpdHlEaXBsYXllZD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqY2l0eUNob2ljZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2luc2lkZSBsb2FkY2l0aWVzJylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2l0eUNob2ljZXNbY2l0eURpcGxheWVkXSlcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VyU3VibWl0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29ycmVjdE9wdGlvbjogY2l0eUNob2ljZXNbY2l0eURpcGxheWVkXSxcclxuICAgICAgICAgICAgICAgIGNpdHlEaXBsYXllZDogY2l0eUNob2ljZXNbY2l0eURpcGxheWVkXSxcclxuICAgICAgICAgICAgICAgIGNpdHlDaG9pY2VzOiBjaXR5Q2hvaWNlc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlID0gY2hhbmdlRXZlbnQgPT4ge1xyXG4gICAgICAgIC8vIGNvbnN0IHsgY3VyckNpdGllcyB9ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVtYWluaW5nIGNpdGllczogXCIsY3VyckNpdGllcy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgc2VsZWN0ZWRPcHRpb246IGNoYW5nZUV2ZW50LnRhcmdldC52YWx1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBoYW5kbGVGb3JtU3VibWl0ID0gZm9ybVN1Ym1pdEV2ZW50ID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhmb3JtU3VibWl0RXZlbnQudGFyZ2V0KTsgXHJcbiAgICAgICAgZm9ybVN1Ym1pdEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJZb3UgaGF2ZSBzdWJtaXR0ZWQ6IFwiLCB0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkNvcnJlY3Qgb3B0aW9uOiBcIix0aGlzLnN0YXRlLmNvcnJlY3RPcHRpb24ubmFtZSlcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbiA9PT0gdGhpcy5zdGF0ZS5jb3JyZWN0T3B0aW9uLm5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VyU3VibWl0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb3JyZWN0OiB0cnVlXHJcbiAgICAgICAgICAgICAgfSk7ICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHVzZXJTdWJtaXRlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvcnJlY3Q6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjaXR5RGlwbGF5ZWQ6IHtpZDogMCxuYW1lOiAncGxhY2Vob2xkZXInLHVybDogcGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zb2xlLmxvZygna2F0aSAnKyB0aGlzLmNvbnRleHQpO1xyXG4gICAgICAgIGNvbnN0IHsgZ2V0Q2l0aWVzIH0gPSB0aGlzLmNvbnRleHQ7XHJcbiAgICAgICAgYXdhaXQgZ2V0Q2l0aWVzKCk7XHJcbiAgICAgICAgY29uc3QgeyBjdXJyQ2l0aWVzIH0gPSB0aGlzLmNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZmluaXNoZWRMb2FkaW5nOiB0cnVlfSlcclxuICAgICAgICBjb25zb2xlLmxvZygnaW5zaWRlIEhvbWUuanMnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJDaXRpZXMpXHJcbiAgICAgICAgdGhpcy5sb2FkQ2l0aWVzKGN1cnJDaXRpZXMpXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGN1cnJDaXRpZXMsIGFwaV91cmwgfSA9IHRoaXMuY29udGV4dDtcclxuICAgICAgICByZXR1cm4gKCBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob21lLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPXthcGlfdXJsK3RoaXMuc3RhdGUuY2l0eURpcGxheWVkLnVybH0gYWx0PXt0aGlzLnN0YXRlLmNpdHlEaXBsYXllZC5uYW1lfSBjbGFzc05hbWU9XCJpbWFnZVwiIC8+XHJcbiAgICAgICAgICAgICAgICB7Y29uc29sZS5sb2coJ2luIGltYWdlJyl9XHJcbiAgICAgICAgICAgICAgICB7Y29uc29sZS5sb2codGhpcy5zdGF0ZS5jaXR5RGlwbGF5ZWQudXJsKycgICcrYXBpX3VybCl9XHJcbiAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJmb3JtXCIgb25TdWJtaXQ9e3RoaXMuaGFuZGxlRm9ybVN1Ym1pdH0gPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmNpdHlDaG9pY2VzLm1hcCggXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpdHkgPT4gPE9wdGlvbnMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2NpdHkubmFtZX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdpdmVuT3B0aW9uPXt0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9ufSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17Y2l0eS5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUudXNlclN1Ym1pdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj4gIFxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgcGFwaWE9XCJwYXBpYVwiIHZhbHVlPVwic3VibWl0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS51c2VyU3VibWl0ZWR9IFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS51c2VyU3VibWl0ZWQgPyBcIm5vcm1hbFwiIDogXCJncmV5ZWRcIn0gXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5sb2FkQ2l0aWVzKGN1cnJDaXRpZXMpfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBOZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsgdGhpcy5zdGF0ZS51c2VyU3VibWl0ZWQgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gPE9uU3VibWl0TWVzc2FnZSBjb3JyZWN0PXt0aGlzLnN0YXRlLmNvcnJlY3R9Lz4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogPGRpdj5DaG9vc2UgYSBDaXR5PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlc3RcIj4gcGFwaWEgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbkhvbWUuY29udGV4dFR5cGUgPSBDaXR5Q29udGV4dDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhvbWU7IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0hvbWUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaG9tZS1ib2R5IHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgbWlubWF4KDEwMHB4LCAxZnIpKTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMywgbWlubWF4KDEwMHB4LCAxZnIpKTtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIwNiwgMjA5LCAyMDgpOyBcXG4gICAgLyogYm9yZGVyOiByZ2IoMjM2LCA4LCAxNjApO1xcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkOyAqL1xcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMjAwcHgpIHtcXG4gICAgLmhvbWUtYm9keXtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICB9XFxuICB9XFxuXFxuLnJlc3VsdCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICAvKiBib3JkZXI6IHJnYig0MiwgMjE2LCAzNik7XFxuICAgIGJvcmRlci1zdHlsZTogc29saWQ7ICovXFxuICAgIGdyaWQtY29sdW1uOiAyO1xcbiAgICBncmlkLXJvdzogMjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmltYWdlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZGFya3NsYXRlYmx1ZTtcXG4gICAgYm9yZGVyOiByZ2IoODQsIDg1LCA4Nyk7XFxuICAgIGJvcmRlci1zdHlsZTogZ3Jvb3ZlO1xcbiAgICBib3JkZXItd2lkdGg6IDE1cHg7XFxuICAgIGhlaWdodDogNjAwcHggO1xcbiAgICB3aWR0aDoxMDAlO1xcbiAgICBncmlkLXJvdzogMSAvIDM7XFxuICAgIGdyaWQtY29sdW1uOiAxO1xcbn1cXG5cXG5cXG4uZm9ybSB7XFxuICAgIGRpc3BsYXk6ZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgXFxufVxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDUwMHB4KSB7XFxuICAgIC5mb3Jte1xcbiAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgfVxcbiAgICAgfVxcbi5mb3JtID4gaW5wdXQge1xcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuICAgIGp1c3RpZnktc2VsZjogY2VudGVyO1xcbiAgICBtYXJnaW4tbGVmdDogMTB2dztcXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHZ3O1xcbiAgICBwYWRkaW5nOiA1cHg7XFxuICAgIFxcbn1cXG5cXG4uZm9ybSA+IHNlY3Rpb24ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBtYXJnaW4tbGVmdDogMnZ3IDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XFxuICAgIG1pbi13aWR0aDogMjAwcHg7XFxuICAgIG1heC13aWR0aDogNTAwcHg7XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDUwMHB4KSB7XFxuICAgIC5mb3JtID4gc2VjdGlvbiB7XFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICB9XFxufVxcblxcbi5ub3JtYWx7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGNoYXJ0cmV1c2U7XFxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XFxuICAgIG1hcmdpbi1sZWZ0OiAxdnc7XFxuICAgIG1hcmdpbi1yaWdodDogMXZ3O1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcblxcbn1cXG5cXG4uZ3JleWVke1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoOTksIDk5LCA5OSk7XFxuICAgIGNvbG9yOiBmbG9yYWx3aGl0ZTtcXG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjtcXG4gICAgbWFyZ2luLWxlZnQ6IDF2dztcXG4gICAgbWFyZ2luLXJpZ2h0OiAxdnc7XFxuICAgIHBhZGRpbmc6IDIwcHg7XFxuXFxufVxcblxcblxcblxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vT25TdWJtaXRNZXNzYWdlLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmNvcnJlY3Qge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIwLCAyMjAsIDcwKTtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbiAgICB3aWR0aDogODBweDtcXG5cXG4gICAgLyogYm9yZGVyOiByZ2IoNDIsIDIxNiwgMzYpO1xcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkOyAqL1xcbn1cXG5cXG4uZmFsc2Uge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIyMCwgMjAsIDIwKTtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbiAgICB3aWR0aDogODBweDtcXG5cXG4gICAgLyogYm9yZGVyOiByZ2IoNDIsIDIxNiwgMzYpO1xcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkOyAqL1xcbn1cXG5cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAgeyBDaXR5UHJvdmlkZXJ9IGZyb20gXCIuLi9jb250ZXh0XCI7XG5pbXBvcnQgSG9tZSBmcm9tIFwiLi9Ib21lXCJcblxuY29uc3QgTWFpbiA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgIDxDaXR5UHJvdmlkZXI+XG4gICAgICAgIDxIb21lLz5cbiAgICA8L0NpdHlQcm92aWRlcj5cbiAgICApO1xufSBcblxuZXhwb3J0IGRlZmF1bHQgTWFpbiJdLCJzb3VyY2VSb290IjoiIn0=